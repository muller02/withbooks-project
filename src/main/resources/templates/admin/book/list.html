<!DOCTYPE html>
<html
        lang="en"
        xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{inc/admin/layout.html}"
>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="/js/admin/book/list.js" defer></script>
    <style>
        .core div{
            display: block;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .toggle{
            padding: 0 !important;
            height: 0;
            overflow: hidden;
        }
    </style>
</head>
<body>
    

    <main layout:fragment="main" class="n-panel flex-direction:column n-main-panel">

        <section id="search-section" class="mt:4 px:10">
            <h1 class="d:none">Í≤ÄÏÉâ</h1>
            
            <div class="search-div n-form n-field-textbox:underline d:flex justify-content:space-around">
                <select name="query-type">
                    <option value="title" selected>Ï†úÎ™©</option>
                    <option value="author">Ï†ÄÏûê</option>
                    <option value="isbn13">ISBN13</option>
                </select>
                <input
                type="text"
                class="query n-textbox n-textbox-type:outline n-textbox-status:focus"
                placeholder="Outline Focus"
                />
                <button type="submit" class="n-btn n-btn-type:filled">Í≤ÄÏÉâ</button>
            </div>
            <div class="search-category-div n-expander bd bd-color:base-5 bd-radius:4 p:2 my:2">
                <div class="n-expander-title">
                    <input type="checkbox" class="n-expander-trigger" />
                    Ïπ¥ÌÖåÍ≥†Î¶¨ Í≤ÄÏÉâ
                </div>
                <div class="n-expander-content d:flex jc:space-between">
                    <ul class="d:flex fl-wrap:wrap search-category">
                        <li class="bg-color:main-1 py:1 px:4 mr:1 mb:2 border-radius:full cursor:pointer" th:each="c : ${category}">
                            <span class="category-value" th:text="${c.name}" th:data-id="${c.id}">Ïπ¥ÌÖåÍ≥†Î¶¨</span>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <div class="d:flex justify-content:space-between mt:4 px:10">
            <div>Í≤ÄÏÉâ Í≤∞Í≥º : 1032 Í±¥</div>
            <div>
                <button type="button" class="n-btn n-btn-type:filled">
                    <a href="reg">
                        Ï±Ö Îì±Î°ù
                    </a>
                </button>
                <!-- <button type="button" class="n-btn n-btn-type:filled n-btn-color:accent">ÏùºÍ¥Ñ Í≥µÍ∞ú</button> -->
            </div>
        </div>


        <section class="n-container p:4 lg:px:10">
            <h1 class="d:none">Main</h1>
            <section class="book-list">
                <h1 class="d:none">Ï±Ö Î¶¨Ïä§Ìä∏</h1>

                <section class="d:flex align-items:center pb:4 pt:4 bd-bottom bg-color:main-1">
                    <h1 class="d:none">Ìó§Îçî</h1>
                    <div class="w:1p text-align:center">ID</div>
                    <div class="w:2p text-align:center">Ïπ¥ÌÖåÍ≥†Î¶¨</div>
                    <div class="w:5p text-align:center">Ï†úÎ™©</div>
                    <div class="w:2p text-align:center">Ï†ÄÏûê</div>
                    <div class="w:2p text-align:center">ISBN13</div>
                    <div class="w:1p text-align:center">Í≥µÍ∞úÏó¨Î∂Ä</div>
                </section>

                <section th:each="book : ${list}">
                    <h1 class="d:none">Î≥∏Î¨∏</h1>

                    <section class="book-row d:flex jc:space-between align-items:center py:2 bd-top bd-right bd-left bd-color:main-3 pos:relative csr:pointer">
                        <h1 class="d:none">ÏöîÏïΩ</h1>
                        <div class="w:1p text-align:center ln-clamp:1" th:text="${book.id}"></div>
                        <div class="w:2p text-align:center ln-clamp:1" th:text="${book.categoryName}"></div>
                        <div class="w:5p text-align:center ln-clamp:1" th:text="${book.title}" th:title="${book.title}"></div>
                        <div class="w:2p text-align:center ln-clamp:1" th:text="${book.author}" th:title="${book.author}"></div>
                        <div class="w:2p text-align:center ln-clamp:1" th:text="${book.isbn13}"></div>
                        <div class="w:1p text-align:center ln-clamp:1" th:text="${book.publicYn}"></div>
                        <div class="toggle-btn-area w:10p h:10p pos:absolute bg-color:transparent text-indent:-1 of:hidden"></div>
                    </section>


                    <section class="book-detail d:flex pos:relative bd-left bd-right bd-bottom bd-color:main-3 of:hidden p:5 toggle">
                        <h1 class="d:none">ÎîîÌÖåÏùº</h1>
                        <div class="d:flex fl-dir:column">
                            <div class="">
                                <img class="w:3 h:5 bd-radius:2" src="" alt="" th:src="${book.cover}">
                            </div>
                            <div>
                                <label class="d:flex jc:center color:main-6 cursor:pointer">
                                    Ïù¥ÎØ∏ÏßÄ Î≥ÄÍ≤Ω
                                    <input class="d:none bd w:3" type="file">
                                </label>
                            </div>
                        </div>
    
                        <span class="ml:6 w:10p">
                            <span class="d:flex">
                                <div>
                                    <div><b>ID</b> : <span th:text="${book.id}"></span></div>
                                </div>
        
                                <div class="ml:auto">
                                    <div><b>Ïπ¥ÌÖåÍ≥†Î¶¨</b> : <span th:text="${book.categoryName}"></span></div>
                                </div>
        
                                <div class="ml:auto">
                                    <div><b>Ï†úÎ™©</b> : <span th:text="${book.title}"></span></div>
                                </div>
        
                                <div class="ml:auto">
                                    <div><b>Ï†ÄÏûê</b> : <span th:text="${book.author}"></span></div>
                                </div>
                            </span>
    
                            <span class="d:flex mt:3">
                                <div><b>ISBN13</b> : <span th:text="${book.isbn13}"></span></div>
                                <div class="ml:auto"><b>Ï∂úÌåêÏùº</b> : <span th:text="${book.pubDate}"></span></div>
                                <div class="ml:auto"><b>Ï∂úÌåêÏÇ¨</b> : <span th:text="${book.publisher}"></span></div>
                            </span>
                            
                            <div class="d:flex mt:3 ai:center">
                                <label class="w:1"><b>Í∞ÄÍ≤©</b></label>
                                <input class="bd bd-radius:2 w:10p pl:3 py:1" th:value="${book.price}"></input>
                            </div>
    
                            <div class="d:flex mt:3">
                                <label class="w:1"><b>ÏÑ§Î™Ö</b></label>
                                <textarea class="bd bd-radius:2 w:10p pl:3 py:1" th:utext="${book.description}"></textarea>
                            </div>
    
                            <div class="d:flex mt:3">
                                <label class="w:2"><b>Íµ¨Îß§ÎßÅÌÅ¨</b></label>
                                <input class="bd bd-radius:2 w:10p pl:3 py:1" th:value="${book.purchaseLink}"></input>
                                
                                <div class="d:flex jc:center ai:center"><a href="" th:href="${book.purchaseLink}" class="icon icon:share_fat ml:2">ÎßÅÌÅ¨</a></div>
                            </div>
    
                            
                            <div class="d:flex mt:3">
                                <label class="none-active">Î≤†Ïä§Ìä∏ÏÖÄÎü¨(Y/N) </label>
                                <input class="ml:3" type="checkbox" th:checked="${book.publicYn} == 1">
                            </div>
    
                            <div class="d:flex mt:3">
                                <label class="none-active">Í≥µÍ∞ú </label>
                                <input class="ml:3" type="checkbox" th:checked="${book.publicYn} == 1">
                            </div>
                        </span>
                        
                        <span class="btn-box d:flex pos:absolute bottom:1 right:1 mb:3 mr:3">
                            <div>
                                <button class="n-btn n-btn-type:outline">Ï∞æÏïÑÏôÄÏ§òüòÄ</button>
                            </div>
                            <div class="ml:6">
                                <button class="n-btn">ÏàòÏ†ïÎÇ¥Ïö© Ï†ÄÏû•</button>
                            </div>
                        </span>
                    </section>

                </section>
            </section>
            
        </section>

        <section class="mb:5 mt:3">
            <h1 class="d:none">ÌéòÏù¥Ï†Ä</h1>
            <ul class="n-pager" style="display: flex; justify-content: center;"

                th:with="page=${param.p} eq null ? 1 : ${{param.p}}
                        ,temp=(${page}-1)/5
                        ,startnum=${T(java.lang.Math).floor(temp)} * 5 + 1
                        ,temp1 = ${count/6}
                        ,lastnum=${count} mod 6 > 0 ? ${temp1} + 1 : ${temp1}
                        ,endnum=${startnum+4} lt ${lastnum} ? ${startnum+4} : ${lastnum}
                        ">
                <li>
                    <span th:if="${page} lt 6">Ïù¥Ï†Ñ</span>
                    <a href="list?page=5"
                    th:if="${page} ge 6">Ïù¥Ï†Ñ</a>
                </li>

                <li
                    th:each="n : ${#numbers.sequence(startnum, endnum)}"
                    th:class="${{param.p}} == ${n} ? 'active'">
                    <span th:if="${n} eq ${{param.p}}" th:text="${n}">1</span>
                    <a
                        th:if="${n} ne ${{param.p}}"
                        href="list?p=1"
                        th:href="@{./list(page=${n})}"
                        th:text="${n}">1</a>
                </li>
                <li>
                    <span th:if="${startnum+4} gt ${lastnum}">Îã§Ïùå</span>
                    <a href="list?page=6" 
                    th:href="@{./list(page=${startnum}+5)}"
                    th:if="${startnum+4} lt ${lastnum}">Îã§Ïùå</a >
                </li>
            </ul>
        </section>




    </main>
</body>
</html>