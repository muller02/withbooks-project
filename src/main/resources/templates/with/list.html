<!DOCTYPE html>
<html lang="ko" layout:decorate="~{inc/layout.html}" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>ìœ„ë“œ</title>
  <script defer src="/js/with/list.js"></script>
  <style>


    .fade {
      opacity: 1;
      transition: opacity 1s;
    }

    .n-list {
      --card-list-column-sm: 1; /* ëª¨ë°”ì¼ì—ì„œ ì»¬ëŸ¼ ìˆ˜ */
      --card-list-column-md: 2; /* íƒœë¸”ë¦¿ì—ì„œ ì»¬ëŸ¼ ìˆ˜ */
      --card-list-column-lg: 2; /* PCì—ì„œ ì»¬ëŸ¼ ìˆ˜ */
    }

    .box-shadow {
      box-shadow: 2px 4px 14px 0 rgba(157, 157, 157, 14%);
    }

    /*ë¶ì‡¼ì¸  , ëŒ“ê¸€ ê·¸ë¦¼ì*/
    .box-shadow-custom {
      box-shadow: 2px 4px 14px 0 rgba(157, 157, 157, 14%);
    }

    /*ë‹ë³´ê¸° ìœ„ì¹˜ ìˆ˜ì • */
    .translate-x {
      transform: translateX(-10px);
    }

    .cur-page{
        background-color: var(--color-main-5);
        color: var(--color-base-1) !important;
        border-width: 0 !important;
    }

  </style>
</head>
<body>
<main class="flex-grow:1" layout:fragment="main">

  <!-- ë¡œê·¸ì¸ ì•ˆë‚´ ëª¨ë‹¬ -->
  <section class="n-modal d:none  modal-transform-xy" id="login-modal" tabindex="-1">
    <h1 class="n-font:subtitle text-align:center fs:5 fw:2 mt:3 mb:4">ë¡œê·¸ì¸ì„ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</h1>
    <p class="fs:2">ë¡œê·¸ì¸ì„ í•˜ì‹œë©´ ì¡°ê¸ˆ ë” ë§ì€ ì„œë¹„ìŠ¤ë¥¼ ì´ìš© í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. </p>
    <div class="mt:4 d:flex gap:4 jc:center">
      <button class="n-btn w:2 p:2 bg-color:main-2" id="login-close-btn" type="button">ë‹«ê¸°</button>
      <a class="n-btn w:3 flex-grow:1" href="/login" id="login-open-btn" type="button">ë¡œê·¸ì¸</a>
    </div>
  </section>
  <div class="backdrop d:none" id="login-modal-backdrop"></div>

  <!-- ê²€ìƒ‰ ì„¹ì…˜ -->
  <section class="p:3 d:flex ai:center br pt:5 pb:4 pl:3 pr:3">
    <h1 class="d:none">í†µí•©ê²€ìƒ‰, ìƒì„¸ê²€ìƒ‰</h1>
    <!-- í†µí•© ê²€ìƒ‰ -->
    <div class="d:flex pos:relative ai:center flex-grow:1">
      <input class="query-search n-textbox n-textbox-type:outline text-align:center  mr:2" placeholder="ìœ„ë“œëª… / ì§€ì—­ "
             type="text"/>
      <button class="query-btn icon  translate-x  icon:magnifying_glass pos:absolute right:1 mr:2"></button>
    </div>
    <!-- ìƒì„¸ ê²€ìƒ‰ -->
    <div class="d:flex ai:center">
      <button class="n-btn n-btn-type:outline h:100p deco-pos:right border-color:main-5 w:content-fit pr:3 pl:3 deco icon:plus deco-size:3"
              id="search-btn"
              type="button">
        <span class="mr:auto ml:1">ìƒì„¸ê²€ìƒ‰</span>
      </button>
    </div>

    <!--    <select name="space" id="pet-select" class="h:100p text-align:center">-->
    <!--      <option value="m1">ìµœì‹ ìˆœ</option>-->
    <!--      <option value="m2">ì¸ê¸°ìˆœ</option>-->
    <!--    </select>-->
  </section>

  <section
          class="search-box lg:pos:absolute top:2 mx:3 right:1 d:none border-color:sub-4 border-radius:5 zi:4 box-shadow-custom bg-color:main-1">

    <!-- ìƒì„¸ ê²€ìƒ‰ ì°½ -->
    <div class=" w:full d:flex jc:start  p:3 flex-direction:column gap:3">
      <!-- ì •ë ¬ ë°©ë²• -->

      <div class="ml:auto d:flex ai:center">
        <span class="fs:3 fw:3 color:main-5">ì´ˆê¸°í™”</span>
        <span class="reset-icon icon csr:pointer	  icon:arrows_clockwise_fill icon-size:2 ml:auto"></span>

      </div>
      <div class="face-yn mb:3 ">
        <div class="margin-right:8 ml:2 mb:2 fw:3 ">ğŸ“¢ ëŒ€ë©´ / ë¹„ëŒ€ë©´</div>
        <!-- ëŒ€ë©´ ì—¬ë¶€ -->

        <ul class="d:flex   ">
          <li class="d:flex ai:center m:1">
            <label class="n-toggle n-toggle-type:outline-box">
              ì „ì²´
              <input checked class="d:none" name="f" type="radio" value="2"/>
            </label>
          </li>
          <li class="d:flex ai:center m:1">
            <label class="n-toggle n-toggle-type:outline-box">
              ëŒ€ë©´
              <input class="d:none" name="f" type="radio" value="1"/>
            </label>
          </li>
          <li class="d:flex ai:center m:1">
            <label class="n-toggle n-toggle-type:outline-box">
              ë¹„ëŒ€ë©´
              <input class="d:none" name="f" type="radio" value="0"/>
            </label>
          </li>

        </ul>
      </div>
      <!-- ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ -->
      <div class=" d:flex fl-dir:column lg:w:7     " id="category">
        <div class="d:flex ai:center mb:1">
          <div class="margin-right:8 ml:2 fw:3 mb:2 ">ğŸ“¢ ì¹´í…Œê³ ë¦¬</div>

        </div>
        <div class="rg:mt:3">
          <div class="category-list d:flex fl-wrap:wrap">
            <h1 class="d:none">ì¹´í…Œê³ ë¦¬ í•„í„°</h1>
            <label class="n-toggle n-toggle-type:outline-box m:1"
                   th:classappend="${iterStat.last} ? '' : 'lg:flex-grow:1'"
                   th:each="c, iterStat : ${categoryList}">
              <input class="d:none" th:text="${c.name}" th:value="${c.id}" type="checkbox"/>
            </label>
          </div>

          <div class="d:flex justify-content:center mt:8 gap:5 md:d:none d:none">
            <button class="n-btn n-btn-type:outline flex-grow:1" type="button">
              ì·¨ì†Œ
            </button>
            <button class="n-btn n-btn-type:filled flex-grow:1" type="button">
              ì™„ë£Œ
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ì¹´í…Œê³ ë¦¬ ìƒì„¸: ì •ë ¬ í›„ ì½”ë“œ -->
  <div class="pl:3 fade d:none" id="search-detail">
    <div class="d:flex ai:center">
      <div class="margin-right:4 ml:3">ì¹´í…Œê³ ë¦¬</div>
      <div class="icon icon:arrows_clockwise_fill icon-size:2" id="refresh"></div>
    </div>
    <div class="mt:3">
      <div class="d:flex fl-wrap:wrap" id="filterBox">
        <h1 class="d:none">ì¹´í…Œê³ ë¦¬ í•„í„°</h1>

        <label class="n-toggle n-toggle-type:outline-box m:1 nt" id="cate-list" th:each="item:${cateList}">
          <input class="d:none p check-box" name="c" th:text="${item.name}" th:value="${item.cid}" type="checkbox"/>
        </label>
      </div>
    </div>
  </div>
  <section class="with-list">
    <h1 class="d:none n-tab-grow">ì „ì²´ìœ„ë“œ / ë‚˜ì˜ìœ„ë“œ</h1>

    <ul class="n-tabbar">
      <li class="active w:5p">
        <button class="w:100p font-weight:3">ì „ì²´ ìœ„ë“œ</button>
      </li>
      <li class="w:5p">
        <a class="w:100p color:base-3 font-weight:3" href="/mywith/list" id="container1">ë‚˜ì˜ ìœ„ë“œ</a>
      </li>
    </ul>
  </section>


  <section class="with-list">
    <h1 class="d:none">ìœ„ë“œ ë¦¬ìŠ¤íŠ¸</h1>
    <ul class="n-list n-card-list pt:3 pl:2 pr:2 with-list-ul">
      <li class="d:flex with-ul gap:2 flex-direction:column n-item:shadow" th:each="with: ${list}">
        <ul class="d:flex gap:1 flex-wrap:wrap">
          <li
                  class=" bd-color:base-2 border-radius:11 fs:1 pl:3 pr:3 pt:1 pb:1 mr:2"
          ><span class="" th:text="${with.faceYn == 1 ? 'ëŒ€ë©´' : 'ë¹„ëŒ€ë©´'}">ëŒ€ë©´</span>
          </li>
          <li class="border bd-color:base-3 border-radius:11 fs:1 pl:3 pr:3 pt:1 pb:1 background-color:main-6 fl-shrink:0"
              th:each="categoryNames :${with.categoryNames}">
            <span class="color:base-1" th:text="${categoryNames}">ì†Œì„¤</span>
          </li>
        </ul>
        <div class="d:flex pt:1 gap:5">
          <!-- th:with img-->
          <div class="w:2 h:2 box-shadow border-color:base-2 border-radius:3 my:auto flex-shrink:0">
            <img class="w:100p h:100p border-radius:3" src="/image/with/puppy2.png"
                 th:src="${with.img}"/>
          </div>

          <div class="d:flex gap:1 flex-direction:column flex-grow:1">
            <div class="fs:6 fw:3 mb:2">
              <a th:href="@{/with/detail(id=${with.id})}" th:text="${with.name}">ì±…ì—íë‹¹</a>
            </div>
            <div class="d:flex ai:center gap:1 ai:center">
              <div class="d:flex ai:center">
                <span class="icon icon:chat_circle icon-size:2"></span>
                <span class="fs:2 color:base-5 ml:1"
                      th:text="${with.memberCnt + ' / ' +with.personnel +' ëª…' }">5ëª…/12ëª…</span>
              </div>
              <!-- <span>Â·</span> -->
              <div class="d:flex ai:center">
                <span class="icon icon:chat_circle icon-size:2"></span>
                <span class="fs:2 color:base-5 ml:1" th:text="'ì›” ' + ${with.interval} + ' íšŒ'">ì›” 1íšŒ</span>
              </div>
              <!-- <span>Â·</span> -->
            </div>

            <div class="d:flex ai:center">
              <span class="icon icon:chat_circle icon-size:2"></span>
              <span class="fs:2 color:base-5 ml:1" th:text="${with.location}">ë…¸ê³ ì‚°ë™</span>
            </div>
            <div class="ln-clamp:3">
                                <span class=" " th:text="${with.intro}">
                                    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Nam velit adipisci quae nisi ad possimus, dolores dolor ex quas molestias temporibus quidem aperiam cupiditate excepturi pariatur amet! Ex, sunt eius.
                                </span>
            </div>
          </div>
        </div>
      </li>
    </ul>
    <section class="mt:5 d:flex jc:center" 
            th:with="
                tmpa = (${count}-1) / 10,
                lastestPage = ${T(java.lang.Math).floor(tmpa)} + 1,
                tmp = (${{param.p}}-1) / 5,
                startnum = ${T(java.lang.Math).floor(tmp)} * 5 + 1
            "
        >
        <h1 class="d:none">í˜ì´ì €</h1>
        <ul class="d:flex jc:center ai:center" th:unless="${lastestPage} lt 1">
            <li th:unless="${startnum} eq 1" >
                <a class="icon icon:caret_left" href="">ì´ì „</a>
            </li>

            <li class="ml:3" th:if="${n le lastestPage}" th:each="n : ${#numbers.sequence(startnum, startnum+4)}">
                <a class="px:3 py:1 color:base-9 bd bd-radius:4" 
                    th:href="@{./list(p=${n})}" 
                    th:text="${n}"
                    th:classappend="${{param.p}} == ${n} ? 'cur-page'"
                >1</a>
            </li>
            <li class="ml:3" th:if="${startnum + 5} le ${lastestPage}">
                <a class="icon icon:caret_right" href="">ë‹¤ìŒ</a>
            </li>
        </ul>
    </section>
  </section>

  <section>
    <h1 class="d:none">í”Œë¡œíŒ…ë²„íŠ¼</h1>


    <div class="floting-btn">
      <a
              href="/with/reg"
              style="transform: translate(-60px , 10px)"
              class="icon icon:plus plus write-btn icon-color:sub-1 bg-color:main-5 pos:fixed bottom:9 right:8 icon-size:5 border-radius:full h:1 w:1 zi:5"
      ></a>
      <a
              href="#main"
              style="transform: translate(-36px, 9px)"
              class="icon icon:arrow_up arrow icon-color:sub-1 bg-color:main-5 pos:fixed bottom:9 right:1 icon-size:5 border-radius:full h:1 w:1 zi:5"
      ></a>
    </div>
  </section>
</main>
</body>
</html>
